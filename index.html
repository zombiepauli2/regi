<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Twitch Regex Tool</title>
<style>
  body {
    font-family: sans-serif;
    margin: 0;
    padding: 0;
    background: #0d0d0d url('81e9787f-575a-4dfc-8433-0248fb7f9d5f.png') no-repeat center center;
    background-size: cover;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }

  /* Login Overlay */
  #loginContainer {
    background: rgba(0,0,0,0.85);
    padding: 30px;
    border-radius: 16px;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  #loginContainer input {
    padding: 10px;
    margin: 5px 0;
    border-radius: 8px;
    border: none;
    width: 250px;
    font-size: 1rem;
  }

  #loginContainer button {
    margin-top: 10px;
    width: 270px;
    padding: 10px;
    background: #800080;
    border: none;
    color: #fff;
    font-weight: bold;
    border-radius: 12px;
    cursor: pointer;
    transition: 0.2s;
  }
  #loginContainer button:hover { background: #d580d5; }

  #loginError {
    color: orange;
    margin-top: 8px;
    font-weight: bold;
  }

  /* App Container */
  #appContainer {
    display: none;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: 800px;
    padding: 20px;
    background: rgba(13,13,13,0.95);
    border-radius: 16px;
  }

  h1 { color: #fff; margin-bottom: 20px; }
  .display-box {
    font-family: monospace;
    margin-bottom: 10px;
    background: rgba(255,255,255,0.08);
    padding: 10px;
    border-radius: 10px;
    width: 100%;
    cursor: pointer;
    display: flex;
    gap: 8px;
  }
  .label { flex: 0 0 auto; color: #ffa733; font-weight: bold; }
  .content { flex: 1 1 auto; white-space: pre-wrap; word-wrap: break-word; }
  .display-box:hover { background: rgba(255,165,0,0.2); }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
    gap: 12px;
    width: 100%;
    margin: 25px 0;
  }
  .box {
    padding: 10px;
    text-align: center;
    border-radius: 16px;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.2);
    color: #fff;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .box:hover { background: rgba(128,0,128,0.3); transform: scale(1.05); }

  .toggle {
    background: #800080;
    border: none;
    border-radius: 6px;
    padding: 2px 6px;
    cursor: pointer;
    font-size: 0.9rem;
    margin-left: 5px;
    color: #fff;
  }
  .toggle.active { background: #d580d5; }

  .controls { margin-top: 15px; display: flex; gap: 10px; }
  .controls button { text-transform: uppercase; }
  .chatty-box {
    margin-top: 15px;
    padding: 12px;
    border-radius: 10px;
    border: 2px solid #800080;
    color: #800080;
    font-weight: bold;
    text-align: center;
    width: 100%;
    cursor: pointer;
    transition: 0.2s;
    text-transform: uppercase;
  }
  .chatty-box.active { background: #800080; color: #fff; }

</style>
</head>
<body>

<!-- LOGIN Overlay -->
<div id="loginContainer">
  <h2>Login</h2>
  <input type="text" id="username" placeholder="Username">
  <input type="password" id="licenseKey" placeholder="Lizenzkey">
  <button id="loginBtn">Login</button>
  <div id="loginError"></div>
</div>

<!-- APP -->
<div id="appContainer">
  <h1>Twitch Regex Tool</h1>
  <div class="display-box" id="wordDisplay">
    <span class="label">Wort:</span>
    <span class="content" id="wordContent"></span>
  </div>
  <div class="display-box" id="regexDisplay" title="Klicken zum Kopieren">
    <span class="label">Regex:</span>
    <span class="content" id="regexContent"></span>
  </div>

  <div class="grid" id="grid"></div>

  <div class="controls">
    <button id="clearBtn">CLEAR</button>
    <button id="regexTestBtn">REGEX TESTEN</button>
  </div>

  <div class="chatty-box" id="chattyToggle">CHATTY</div>
</div>

<script>
/* -------- Login -------- */
const VALID_USERNAME = "testuser";
const VALID_LICENSE = "123456";

const loginContainer = document.getElementById("loginContainer");
const appContainer = document.getElementById("appContainer");
const loginBtn = document.getElementById("loginBtn");
const usernameInput = document.getElementById("username");
const licenseInput = document.getElementById("licenseKey");
const loginError = document.getElementById("loginError");

loginBtn.onclick = () => {
  const username = usernameInput.value.trim();
  const license = licenseInput.value.trim();
  if(username === VALID_USERNAME && license === VALID_LICENSE){
    loginContainer.style.display = "none";
    appContainer.style.display = "flex";
  } else {
    loginError.textContent = "Ungültiger Benutzername oder Lizenzkey!";
  }
};

/* -------- Regex Tool -------- */
const regexMap = {
  a: "[aA@4äÄàáâãåĀ#*]", b: "[bB8ßẞ#*]", c: "[cC(ķčćç¢©#*]", d: "[dDÐďđ#*]",
  e: "[eE3€èéêëě#*]", f: "[fFƒ#*]", g: "[gG6ɢ9#*]", h: "[hH#*]",
  i: "[iI1!|ìíîïįī#*]", j: "[jJ#*]", k: "[kKκ#*]", l: "[lL1!|ł#*]",
  m: "[mM#*]", n: "[nNñńňņ#*]", o: "[oO0öÖóòôõø¤°#*]", p: "[pPρ¶þ#*]",
  q: "[qQ9#*]", r: "[rRʁЯ®#*]", s: "[sS5$šśş§ßẞ#*]", t: "[tT7†ŧ#*]",
  u: "[uUúùûüÜūµ#*]", v: "[vV\\/#!*]", w: "[wWvvωŴ#*]", x: "[xX%×χ#*]",
  y: "[yY¥ýÿ#*]", z: "[zZ2žźżʒ#*]", ä: "[äA@4aA#*]", ö: "[öÖoO#*]",
  ü: "[üÜuU#*]", ß: "[ßẞ5$sS#*]"
};

const grid = document.getElementById("grid");
const wordContent = document.getElementById("wordContent");
const regexContent = document.getElementById("regexContent");
const clearBtn = document.getElementById("clearBtn");
const regexTestBtn = document.getElementById("regexTestBtn");
const chattyToggle = document.getElementById("chattyToggle");

let currentWord = "";
let currentRegex = "";
let chattyMode = false;

function updateDisplay() {
  let prefix = chattyMode ? "config:any regi:" : "";
  wordContent.textContent = currentWord;
  regexContent.textContent = prefix + `(?i)(_|\\b)${currentRegex}(_|\\b)`;
}

Object.keys(regexMap).forEach(letter => {
  const container = document.createElement("div");
  container.className = "box";

  const span = document.createElement("span");
  span.textContent = letter;

  const toggleBtn = document.createElement("button");
  toggleBtn.textContent = "?";
  toggleBtn.className = "toggle";
  toggleBtn.dataset.optional = "false";

  container.appendChild(span);
  container.appendChild(toggleBtn);

  container.onclick = (e) => {
    if (e.target === toggleBtn) return;
    currentWord += letter;
    const isOptional = toggleBtn.dataset.optional === "true";
    currentRegex += isOptional
      ? `(${regexMap[letter]}*?)`
      : `${regexMap[letter]}+[\\W_#*]*`;
    updateDisplay();
    if (isOptional) {
      toggleBtn.dataset.optional = "false";
      toggleBtn.classList.remove("active");
    }
  };

  toggleBtn.onclick = (e) => {
    e.stopPropagation();
    toggleBtn.dataset.optional = toggleBtn.dataset.optional === "true" ? "false" : "true";
    toggleBtn.classList.toggle("active");
  };

  grid.appendChild(container);
});

document.getElementById("regexDisplay").onclick = async () => {
  const regexText = regexContent.textContent;
  await navigator.clipboard.writeText(regexText);
  regexContent.textContent = "Kopiert!";
  setTimeout(updateDisplay, 1200);
};

clearBtn.onclick = () => {
  currentWord = "";
  currentRegex = "";
  updateDisplay();
};

regexTestBtn.onclick = () => {
  let regexText = regexContent.textContent;
  if (regexText.startsWith("config:any regi:")) {
    regexText = regexText.replace("config:any regi:", "");
  }
  const url = "https://regex101.com/?regex=" + encodeURIComponent(regexText);
  window.open(url, "_blank");
};

chattyToggle.onclick = () => {
  chattyMode = !chattyMode;
  chattyToggle.classList.toggle("active", chattyMode);
  updateDisplay();
};

updateDisplay();
</script>
</body>
</html>
















